(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Token-f71cff67"],{"0563":function(e,t,i){"use strict";var s=i("7a23");const o={key:0,class:"count"},a={class:"block"},r={class:"block"},l={class:"block"},n={class:"block"},c={key:1,class:"risk"};function d(e,t,i,d,u,h){const m=Object(s["resolveComponent"])("count-down"),b=Object(s["resolveComponent"])("Warning"),_=Object(s["resolveComponent"])("el-icon");return this.$store.state.tokenPrice||this.tokenInfo.priceUSD?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",o,[u.showTime&&h.time>0?(Object(s["openBlock"])(),Object(s["createBlock"])(m,{key:0,class:"count-down mt-8",time:h.time,format:"DD:HH:mm:ss",onFinish:h.finishTime},{default:Object(s["withCtx"])(i=>[Object(s["createElementVNode"])("span",a,[Object(s["createTextVNode"])(Object(s["toDisplayString"])(i.days<10?"0"+i.days:i.days)+" ",1),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("DD")),1)]),t[0]||(t[0]=Object(s["createElementVNode"])("span",{class:"colon"},":",-1)),Object(s["createElementVNode"])("span",r,[Object(s["createTextVNode"])(Object(s["toDisplayString"])(i.hours<10?"0"+i.hours:i.hours)+" ",1),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("HH")),1)]),t[1]||(t[1]=Object(s["createElementVNode"])("span",{class:"colon"},":",-1)),Object(s["createElementVNode"])("span",l,[Object(s["createTextVNode"])(Object(s["toDisplayString"])(i.minutes<10?"0"+i.minutes:i.minutes)+" ",1),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("MM")),1)]),t[2]||(t[2]=Object(s["createElementVNode"])("span",{class:"colon"},":",-1)),Object(s["createElementVNode"])("span",n,[Object(s["createTextVNode"])(Object(s["toDisplayString"])(i.seconds<10?"0"+i.seconds:i.seconds)+" ",1),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("SS")),1)])]),_:1},8,["time","onFinish"])):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,[Object(s["createVNode"])(_,{class:"no-inherit",style:{color:"rgb(248, 190, 70)"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(b)]),_:1}),Object(s["createTextVNode"])(" "+Object(s["toDisplayString"])(e.$t("unknownRisk")),1)]))]))}var u=i("cdc2"),h={data(){return{visible1:!1,activeGroup:0,showTime:!0}},emits:["init"],components:{CountDown:u["a"]},computed:{tokenInfo(){return this.$store.state.tokenInfo},time(){return this.$store.state.tokenInfo.countDown}},methods:{finishTime(){this.showTime=!1,this.$store.dispatch("getToken"),this.$emit("init")}}},m=(i("1e23"),i("6b0d")),b=i.n(m);const _=b()(h,[["render",d],["__scopeId","data-v-29d28493"]]);t["a"]=_},"0801":function(e,t,i){},"09aa":function(e,t,i){"use strict";i("aa0a")},"0aab":function(e,t,i){},"0c4c":function(e,t,i){"use strict";i("cc6a")},"0d8f":function(e,t,i){"use strict";i("9dea")},"18d4":function(e,t,i){e.exports=i.p+"static/img/pause.2a269b04.svg"},"1e23":function(e,t,i){"use strict";i("c000")},2499:function(e,t,i){"use strict";var s=i("7a23");const o={class:"table"},a={class:"table-list"},r={class:"table-item table-header"},l={class:"table-item-d"},n={class:"table-item-d"},c={class:"table-item-d"},d=["onClick"],u={class:"table-item-d"},h={class:"table-item-d_row"},m={class:"table-item-d_row"},b={class:"table-item-d"},_={class:"table-item-d"},p={class:"table-item-d_row"},v={class:"unit"},g={class:"table-item-d_row"},f={class:"unit"},O={class:"table-item-d"},k={class:"table-item-d_row white"},j={class:"table-item-d_row"};function $(e,t,i,$,y,w){const C=Object(s["resolveComponent"])("loading"),N=Object(s["resolveComponent"])("el-empty");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",o,[Object(s["createVNode"])(C,{active:w.isLoading,"onUpdate:active":t[0]||(t[0]=e=>w.isLoading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),Object(s["createElementVNode"])("ul",a,[Object(s["createElementVNode"])("li",r,[Object(s["createElementVNode"])("span",l,Object(s["toDisplayString"])(e.$t("type")),1),Object(s["createElementVNode"])("span",n,Object(s["toDisplayString"])(e.$t("amount"))+"/"+Object(s["toDisplayString"])(e.$t("token")),1),Object(s["createElementVNode"])("span",c,Object(s["toDisplayString"])(e.$t("provider")),1)]),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(i.tableList,(t,i)=>{var o;return Object(s["openBlock"])(),Object(s["createElementBlock"])("li",{class:"table-item",key:i,onClick:Object(s["withModifiers"])(e=>w.goLink(t),["stop"])},[Object(s["createElementVNode"])("div",u,[Object(s["createElementVNode"])("div",h,[Object(s["createElementVNode"])("span",{class:Object(s["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(s["toDisplayString"])(1==t.type?e.$t("add"):e.$t("remove")),3)]),Object(s["createElementVNode"])("div",m,[Object(s["createElementVNode"])("span",b,Object(s["toDisplayString"])(e.$f.formatDate(t.timestamp,"HH:mm:ss")),1)])]),Object(s["createElementVNode"])("div",_,[Object(s["createElementVNode"])("div",p,[Object(s["createElementVNode"])("span",{class:Object(s["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(s["toDisplayString"])(e.$f.formatNumber2(t.amount0||0,2,4,1e4)),3),Object(s["createElementVNode"])("span",v,Object(s["toDisplayString"])(t.token0Symbol),1)]),Object(s["createElementVNode"])("div",g,[Object(s["createElementVNode"])("span",{class:Object(s["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(s["toDisplayString"])(e.$f.formatNumber2(t.amount1||0,2,4,1e4)),3),Object(s["createElementVNode"])("span",f,Object(s["toDisplayString"])(t.token1Symbol),1)])]),Object(s["createElementVNode"])("div",O,[Object(s["createElementVNode"])("div",k," $"+Object(s["toDisplayString"])(e.$f.formatNumber2(t.amount0*t.token0_price_usd+t.amount1*t.token1_price_usd||0,2,4,1e4)),1),Object(s["createElementVNode"])("div",j,"*"+Object(s["toDisplayString"])(null===(o=t.wallet_address)||void 0===o?void 0:o.slice(-6)),1)])],8,d)}),128)),Object(s["withDirectives"])(Object(s["createVNode"])(N,{"image-size":100,image:"light"===e.$store.state.mode?y.imageEmptyWhite:y.imageEmptyBlack},null,8,["image"]),[[s["vShow"],i.tableList&&0===i.tableList.length&&!w.isLoading]])])])}var y=i("fa7d"),w=i("b28f"),C=i.n(w),N=i("fab6"),E=i.n(N),D={name:"LiquidityHistory",props:{tableList:Array,loading:{type:Boolean,default:!1}},data(){return{imageEmptyWhite:C.a,imageEmptyBlack:E.a}},computed:{tokenInfo(){return this.$store.state.tokenInfo||Object(y["e"])()},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(this.$store.state.id))||void 0===e?void 0:e.address:""},addressSplit(){return this.tokenInfo.address.replace(new RegExp("(.{4})(.+)(.{4})"),"$1...$3")},isLoading(){return this.loading}},methods:{goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))}}},S=(i("0d8f"),i("6b0d")),B=i.n(S);const V=B()(D,[["render",$],["__scopeId","data-v-56ed3e16"]]);t["a"]=V},"34ad":function(e,t,i){e.exports=i.p+"static/img/ratio.97cde088.svg"},"3c0e":function(e,t,i){},"4b22":function(e,t,i){"use strict";var s=i("7a23");const o={class:"tabs"},a={class:"connect-popup-title tab-container"},r={class:"tab-button"},l=["onClick"],n={style:{width:"100%",padding:"0 5px"}},c={class:"token-info"},d={class:"icon-token-container"},u=["src"],h=["src"],m={class:"token-symbol"},b=["onClick"],_={style:{width:"100%",padding:"0 5px","margin-top":"10px"}},p=["onClick"],v=["onClick"],g={class:"mt-20"},f=["icon"];function O(e,t,i,O,k,j){const $=Object(s["resolveComponent"])("van-tab"),y=Object(s["resolveComponent"])("van-tabs"),w=Object(s["resolveComponent"])("el-table-column"),C=Object(s["resolveComponent"])("el-option"),N=Object(s["resolveComponent"])("el-select"),E=Object(s["resolveComponent"])("el-button"),D=Object(s["resolveComponent"])("el-table"),S=Object(s["resolveComponent"])("el-dialog");return Object(s["openBlock"])(),Object(s["createBlock"])(S,{class:Object(s["normalizeClass"])(["dialog",e.$store.state.mode]),modelValue:j.show,"onUpdate:modelValue":t[2]||(t[2]=e=>j.show=e),width:"800px","append-to-body":""},{header:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("div",o,[Object(s["createElementVNode"])("div",a,[Object(s["createElementVNode"])("div",r,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(j.tabs,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("a",{href:"",class:Object(s["normalizeClass"])(["tab-item",{active:e.id==k.active}]),key:t,onClick:Object(s["withModifiers"])(t=>j.switchTab(e),["stop","prevent"])},Object(s["toDisplayString"])(e.name),11,l))),128))])])])]),default:Object(s["withCtx"])(()=>[Object(s["withDirectives"])(Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(y,{class:"fav-tabs",active:k.activeGroup,"onUpdate:active":t[0]||(t[0]=e=>k.activeGroup=e),"line-height":"0","title-active-color":"light"===e.$store.state.mode?"#333333":"#fff","title-inactive-color":"#80838B",color:"#558BED",ellipsis:!1,shrink:"",background:"transparent"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])($,{title:e.$t("defaultGroup"),name:0},null,8,["title"]),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(j.groups,(e,t)=>(Object(s["openBlock"])(),Object(s["createBlock"])($,{key:t,title:e.name,name:e.group_id},null,8,["title","name"]))),128))]),_:1},8,["active","title-active-color"]),Object(s["createElementVNode"])("div",n,[Object(s["createVNode"])(D,{class:"tableManger",data:k.favoritesList,height:"350px",style:{width:"100%"},ref:"table_ref","highlight-current-row":"",id:"table_fav"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(w,{label:e.$t("token")},{default:Object(s["withCtx"])(({row:t})=>[Object(s["createElementVNode"])("div",c,[Object(s["createElementVNode"])("div",d,[Object(s["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatIcon(t,t.symbol),alt:"",height:"25",onerror:"this.src='/icon-default.png'"},null,8,u),t.network?(Object(s["openBlock"])(),Object(s["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${t.network}.png`,alt:"",srcset:""},null,8,h)):Object(s["createCommentVNode"])("",!0)]),Object(s["createElementVNode"])("span",m,Object(s["toDisplayString"])(t.symbol),1)])]),_:1},8,["label"]),Object(s["createVNode"])(w,{label:e.$t("changeGroup"),align:"center"},{default:Object(s["withCtx"])(({row:t})=>[Object(s["createVNode"])(N,{class:"select3",modelValue:t.activeGroup,"onUpdate:modelValue":e=>t.activeGroup=e,placeholder:e.$t("pleaseSelectGroup"),onChange:e=>j.confirmSwitchGroup(t,e)},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(C,{label:e.$t("defaultGroup"),value:0,disabled:0===k.activeGroup},null,8,["label","disabled"]),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(j.groups,e=>(Object(s["openBlock"])(),Object(s["createBlock"])(C,{key:e.group_id,label:e.name,value:e.group_id,disabled:k.activeGroup===t.group_id},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"])]),_:1},8,["label"]),Object(s["createVNode"])(w,{prop:"name",label:e.$t("sort"),align:"center"},{default:Object(s["withCtx"])(({row:t,$index:i})=>[Object(s["createVNode"])(E,{link:"",size:"small",disabled:0===i,onClick:Object(s["withModifiers"])(e=>j.tokenSetTop(t,i),["stop"])},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("top")),1)]),_:2},1032,["disabled","onClick"]),Object(s["createVNode"])(E,{link:"",size:"large",disabled:0===i,onClick:Object(s["withModifiers"])(e=>j.changeFavoritesIndex(t,i,-1),["stop"])},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("up")),1)]),_:2},1032,["disabled","onClick"]),Object(s["createVNode"])(E,{link:"",size:"large",disabled:i+1===k.favoritesList.length,onClick:Object(s["withModifiers"])(e=>j.changeFavoritesIndex(t,i,1),["stop"])},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("down")),1)]),_:2},1032,["disabled","onClick"])]),_:1},8,["label"]),Object(s["createVNode"])(w,{label:e.$t("remark"),"show-overflow-tooltip":"",align:"center"},{default:Object(s["withCtx"])(({row:e})=>[Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.remark||"-"),1)]),_:1},8,["label"]),Object(s["createVNode"])(w,{label:e.$t("operate"),align:"left"},{default:Object(s["withCtx"])(({row:t})=>[Object(s["createElementVNode"])("a",{href:"",onClick:Object(s["withModifiers"])(e=>j.handleEditRemark(t),["stop","prevent"])},Object(s["toDisplayString"])(e.$t("edit")),9,b)]),_:1},8,["label"])]),_:1},8,["data"])])],512),[[s["vShow"],"1"===k.active]]),Object(s["withDirectives"])(Object(s["createElementVNode"])("div",_,[Object(s["createVNode"])(D,{data:j.groups,style:{width:"100%"},height:"350px",class:"tableManger"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(w,{label:e.$t("groupName"),prop:"name"},null,8,["label"]),Object(s["createVNode"])(w,{label:e.$t("rename"),align:"center"},{default:Object(s["withCtx"])(({row:t})=>[Object(s["createElementVNode"])("a",{href:"",onClick:Object(s["withModifiers"])(e=>j.rename(t),["stop","prevent"])},Object(s["toDisplayString"])(e.$t("edit")),9,p)]),_:1},8,["label"]),Object(s["createVNode"])(w,{prop:"name",label:e.$t("sort"),align:"center"},{default:Object(s["withCtx"])(({row:t,$index:i})=>[Object(s["createVNode"])(E,{size:"large",link:"",disabled:0===i,onClick:Object(s["withModifiers"])(e=>j.setTopFavoriteGroup(t,i),["stop"])},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("top")),1)]),_:2},1032,["disabled","onClick"]),Object(s["createVNode"])(E,{link:"",size:"large",disabled:0===i,onClick:Object(s["withModifiers"])(e=>j.changeIndexFavoriteGroup(t,i,-1),["stop"])},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("up")),1)]),_:2},1032,["disabled","onClick"]),Object(s["createVNode"])(E,{link:"",size:"large",disabled:i+1===j.groups.length,onClick:Object(s["withModifiers"])(e=>j.changeIndexFavoriteGroup(t,i,1),["stop"])},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("down")),1)]),_:2},1032,["disabled","onClick"])]),_:1},8,["label"]),Object(s["createVNode"])(w,{label:e.$t("operate"),align:"center"},{default:Object(s["withCtx"])(({row:t})=>[Object(s["createElementVNode"])("a",{href:"",onClick:Object(s["withModifiers"])(e=>j.removeFavoriteGroup(t),["stop","prevent"])},Object(s["toDisplayString"])(e.$t("delete")),9,v)]),_:1},8,["label"])]),_:1},8,["data"]),Object(s["createElementVNode"])("div",g,["2"===k.active?(Object(s["openBlock"])(),Object(s["createElementBlock"])("a",{key:0,class:"manage",href:"",icon:e.Plus,onClick:t[1]||(t[1]=Object(s["withModifiers"])(t=>e.confirmChangeName("add"),["stop","prevent"]))},Object(s["toDisplayString"])(e.$t("newGroup")),9,f)):Object(s["createCommentVNode"])("",!0)])],512),[[s["vShow"],"2"===k.active]])]),_:1},8,["modelValue","class"])}var k=i("3e47"),j=i("aad9"),$=i("365c"),y={name:"FavoriteManage",props:{visible:Boolean,isScroll:Boolean},components:{"van-tab":k["a"],"van-tabs":j["a"]},data(){return{active:"1",activeTab:"1",activeGroup:0,visible1:!1,visible2:!1,visible3:!1,visible4:!1,selectedToken:{},favoritesList:[],curGroup:{},actions:[{name:"Token",value:"1"},{name:"NFT",value:"2"}],curRemark:"",curToken:{},selectGroup:0}},computed:{tabs(){return[{name:this.$t("favoriteManage"),id:"1"},{name:this.$t("groupManage"),id:"2"}]},show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},groups(){return this.$store.state.userFavoriteGroups},currentAccount(){var e;return this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress)||""},collected(){return this.$store.state.favorites.includes(this.$store.state.id)}},watch:{"$route.params.type"(e){"1"===e&&this.getUserFavorites()},activeGroup(e){this.getUserFavorites(),this.selectGroup=e},groups:{handler(){this.activeGroup=0},deep:!0},currentAccount(e){e&&this.getUserFavorites()},show(e){e&&this.getUserFavorites()}},created(){this.getUserFavorites()},methods:{switchTab(e){this.active=e.id},init(){this.getUserFavorites()},async getUserFavorites(){this.favoritesList=(await Object($["lb"])(this.activeGroup).catch(async()=>[])).map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,network:e.chain,priceChange24h:null!==e&&void 0!==e&&e.price_change?(null===e||void 0===e?void 0:e.price_change)/100:0,priceUSD:(null===e||void 0===e?void 0:e.current_price_usd)||0,activeGroup:this.activeGroup}))},switchGroup(e){this.selectedToken=e,this.visible1=!0},tokenSetTop(e,t){if(0===t)return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["L"])(e.token+"-"+e.chain,this.activeGroup).then(()=>{this.getUserFavorites(),this.$store.state.collectChange++,this.$message.success(this.$t("success"))}).catch(()=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},changeFavoritesIndex(e,t,i){if(!this.$f.verifyLogin())return;let s=e.token+"-"+e.chain,o=t+i;if(o<0||o+1>this.favoritesList.length)return;let a=this.favoritesList[o],r=a.token+"-"+a.chain,l=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["K"])(s,r,this.activeGroup).then(()=>{this.getUserFavorites(),this.$store.state.collectChange++,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{l.close()})},confirmSwitchGroup(e,t){if(this.$f.verifyLogin())if(this.activeGroup!==t){let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["Vc"])(e.token+"-"+e.chain,t).then(()=>{this.getUserFavorites(),this.$store.state.collectChange++,this.selectGroup=this.activeGroup,e.token+"-"+e.chain==this.$store.state.id&&(this.$store.state.groupId=e.activeGroup),this.$store.dispatch("getUserFavorites"),this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})}else this.visible1=!1},addFavoriteGroup(e){if(!this.$f.verifyLogin())return;let t=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["c"])(e).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success")),this.visible2=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{t.close()})},removeFavoriteGroup(e){this.$f.verifyLogin()&&this.$confirm(this.$t("removeFavGroupTips"),this.$t("tips"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),dangerouslyUseHTMLString:!0,customClass:this.$store.state.mode}).then(()=>{let t=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["cd"])(e.group_id).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.getUserFavorites(),this.$store.state.collectChange++,this.$message.success(this.$t("success")),this.visible2=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{t.close()})}).catch(()=>{})},setTopFavoriteGroup(e,t){if(!this.$f.verifyLogin())return;if(0===t)return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["id"])(e.group_id).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success"))}).catch(()=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},changeIndexFavoriteGroup(e,t,i){if(!this.$f.verifyLogin())return;let s=e.group_id,o=t+i;if(o<0||o+1>this.groups.length)return;let a=this.groups[o],r=a.group_id,l=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["M"])(s,r).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.visible3=!1,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{l.close()})},rename(e){this.$prompt("",this.$t("enterGroupName"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel"),inputValidator:e=>!((null===e||void 0===e?void 0:e.length)>10)||this.$t("maximum10characters")}).then(({value:t})=>{this.changeFavoriteGroupName(t,e.group_id)}).catch(()=>{})},changeFavoriteGroupName(e,t){if(!this.$f.verifyLogin())return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["J"])(e,t).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},select(e){this.$router.replace({name:"FavoriteManage",params:{type:e.value,id:this.$route.params.id||"1"}})},handleEditRemark(e){let t=e.token+"-"+e.chain;this.$prompt("",this.$t("enterRemark"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel"),inputValidator:e=>!((null===e||void 0===e?void 0:e.length)>20)||this.$t("maximum10characters")}).then(({value:e})=>{this.confirmEditRemark(e,t)}).catch(()=>{})},confirmEditRemark(e,t){if(!this.$f.verifyLogin())return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object($["R"])(t,e).then(()=>{this.getUserFavorites(),this.$store.dispatch("getUserFavorites"),this.$store.state.collectChange++,this.visible4=!1,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})}}},w=(i("90ce"),i("9278"),i("6b0d")),C=i.n(w);const N=C()(y,[["render",O],["__scopeId","data-v-7c3c93c2"]]);t["a"]=N},"4d65":function(e,t,i){"use strict";i("c1d6")},"5b2f":function(e,t,i){},"5d8a":function(e,t,i){"use strict";i("0801")},7487:function(e,t,i){e.exports=i.p+"static/img/newAccount.52ae9f6d.svg"},"7b6d":function(e,t,i){e.exports=i.p+"static/img/amount.11d61a32.svg"},"7ff9":function(e,t,i){"use strict";var s=i("7a23");function o(e,t,i,o,a,r){var l,n;const c=Object(s["resolveComponent"])("TradingView");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"common k-line-chart-container",id:"k-line-chart-container",style:Object(s["normalizeStyle"])({height:r.height})},[null!==(l=e.$store.state.pair)&&void 0!==l&&l.value&&"-"!==(null===(n=e.$store.state.pair)||void 0===n?void 0:n.value)&&a.show?(Object(s["openBlock"])(),Object(s["createBlock"])(c,{key:0,ref:"tradingView",pair:e.$store.state.pair},null,8,["pair"])):Object(s["createCommentVNode"])("",!0)],4)}function a(e,t,i,o,a,r){const l=Object(s["resolveComponent"])("loading"),n=Object(s["resolveComponent"])("unknown-risk"),c=Object(s["resolveComponent"])("dialog-remind");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[Object(s["createVNode"])(l,{style:{"z-index":"1"},active:a.loading,"onUpdate:active":t[0]||(t[0]=e=>a.loading=e),"can-cancel":!1,loader:"dots",opacity:1,backgroundColor:"light"===e.$store.state.mode?"#fff":a.bgColor,color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),t[2]||(t[2]=Object(s["createElementVNode"])("div",{id:"tv_chart_container",style:{height:"100%",width:"100%"}},null,-1)),Object(s["createVNode"])(n,{onInit:r.getKlineHistory},null,8,["onInit"]),Object(s["createVNode"])(c,{ref:"remind",modelValue:a.dialogVisible_remind,"onUpdate:modelValue":t[1]||(t[1]=e=>a.dialogVisible_remind=e)},null,8,["modelValue"])],64)}var r=i("fa6f"),l=i("6b0d"),n=i.n(l);const c=n()(r["a"],[["render",a]]);var d=c,u={name:"KLineChart",props:{kHeight:{type:Number,default:500}},data(){return{show:!0}},computed:{height(){return this.kHeight+"px"}},mounted(){},components:{TradingView:d},watch:{"$store.getters.language"(e){this.show=!1,this.$nextTick(()=>{this.show=!0})}},methods:{routeLeave(){this.$refs.tradingView.saveStudy()}}};i("89e4");const h=n()(u,[["render",o],["__scopeId","data-v-6dc5d720"]]);t["a"]=h},"89e4":function(e,t,i){"use strict";i("0aab")},"8af5":function(e,t,i){"use strict";i("3c0e")},"90ce":function(e,t,i){"use strict";i("5b2f")},9278:function(e,t,i){"use strict";i("bfcb5")},9621:function(e,t,i){e.exports=i.p+"static/img/clearedAccount.a07ffab8.svg"},"9dea":function(e,t,i){},aa0a:function(e,t,i){},bdd2:function(e,t,i){"use strict";var s=i("7a23");const o={class:"profit"},a={class:"profit-container"},r={class:"right"},l={class:"label"},n={class:"value"},c={class:"profit-container"},d={class:"right"},u={class:"label"},h={key:0},m={class:"value"},b={class:"profit-container"},_={class:"right"},p={class:"label"},v={class:"value"},g={class:"profit-container"},f={class:"right"},O={class:"label"},k={class:""},j={class:"bottom"},$={class:"item up"},y={class:"label"},w={class:"value"},C={class:"label"},N={class:"value"},E={class:"item down"},D={class:"label"},S={class:"value"},B={class:"label"},V={class:"value"};function M(e,t,i,M,A,P){var x;const T=Object(s["resolveComponent"])("van-notice-bar");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[i.userAddress==e.$store.state.currentAccount?(Object(s["openBlock"])(),Object(s["createBlock"])(T,{key:0,class:"myTxs-notice","left-icon":"info-o",background:"light"===e.$store.state.mode?"#ffa94d0d":"rgba(117, 65, 29, 0.23)",color:"#ED6A0C"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("myTxsNotice")),1)]),_:1},8,["background"])):Object(s["createCommentVNode"])("",!0),Object(s["createElementVNode"])("div",o,[Object(s["createElementVNode"])("div",a,[Object(s["createElementVNode"])("div",r,[Object(s["createElementVNode"])("span",l,Object(s["toDisplayString"])(e.$t("currentPosition")),1),Object(s["createElementVNode"])("span",n,Object(s["toDisplayString"])(e.$f.formatNumber2(A.balance)),1)])]),Object(s["createElementVNode"])("div",c,[Object(s["createElementVNode"])("div",d,[Object(s["createElementVNode"])("span",u,[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("tokenValue"))+" ",1),(null===(x=e.$store.state.tokenInfo)||void 0===x?void 0:x.sell_tax)>0?(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",h," (-"+Object(s["toDisplayString"])(e.$t("sellTax1"))+" "+Object(s["toDisplayString"])(e.$f.formatNumber2(e.$store.state.tokenInfo.sell_tax||0,2))+"%) ",1)):Object(s["createCommentVNode"])("",!0)]),Object(s["createElementVNode"])("span",m,"$"+Object(s["toDisplayString"])(e.$f.formatNumber2(P.tokenValue)),1)])]),Object(s["createElementVNode"])("div",b,[Object(s["createElementVNode"])("div",_,[Object(s["createElementVNode"])("span",p,Object(s["toDisplayString"])(e.$t("positionCostPrice")),1),Object(s["createElementVNode"])("span",v,"$"+Object(s["toDisplayString"])(e.$f.formatNumber2(P.avgBuyPrice)),1)])]),Object(s["createElementVNode"])("div",g,[Object(s["createElementVNode"])("div",f,[Object(s["createElementVNode"])("span",O,Object(s["toDisplayString"])(e.$t("profit")),1),Object(s["createElementVNode"])("div",k,[Object(s["createElementVNode"])("span",{class:"value",style:Object(s["normalizeStyle"])({color:P.profit>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})}," $"+Object(s["toDisplayString"])(e.$f.formatNumber2(P.profit)),5),t[0]||(t[0]=Object(s["createTextVNode"])("    ")),Object(s["createElementVNode"])("span",{class:"value",style:Object(s["normalizeStyle"])({color:P.profit>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},Object(s["toDisplayString"])(e.$f.formatPercent(P.profitChange)),5)])])])]),Object(s["createElementVNode"])("div",{class:"holder-container",style:Object(s["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3],"--upBgColor":e.$store.getters.upColor[3]+"33","--downBgColor":e.$store.getters.downColor[3]+"33"})},[Object(s["createElementVNode"])("div",j,[Object(s["createElementVNode"])("div",$,[Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("span",y,Object(s["toDisplayString"])(e.$t("buyFrequency")),1),Object(s["createElementVNode"])("span",w,Object(s["toDisplayString"])(e.$f.formatNumber2(P.totalBuyFrequency)),1)]),Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("span",C,Object(s["toDisplayString"])(e.$t("buyAmount"))+"($)",1),Object(s["createElementVNode"])("span",N,Object(s["toDisplayString"])(e.$f.formatNumber2(P.totalBuy)),1)])]),Object(s["createElementVNode"])("div",E,[Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("span",D,Object(s["toDisplayString"])(e.$t("sellFrequency")),1),Object(s["createElementVNode"])("span",S,Object(s["toDisplayString"])(e.$f.formatNumber2(P.totalSellFrequency)),1)]),Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("span",B,Object(s["toDisplayString"])(e.$t("sellAmount"))+"($)",1),Object(s["createElementVNode"])("span",V,Object(s["toDisplayString"])(e.$f.formatNumber2(P.totalSell)),1)])])])],4)],64)}i("13d5");var A=i("c9d9"),P=i("365c"),x=i("ca0f"),T={name:"TableMyTxs",emits:["changeLoadingHead"],props:{tableList:Array,userAddress:{type:String,default:""}},data(){return{Timer:null,balance:0}},computed:{tokenInfo(){return this.$store.state.tokenInfo},chain(){var e;return null===(e=this.tokenInfo)||void 0===e?void 0:e.chain},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(A["e"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},addressSplit(){return this.tokenInfo.address.replace(new RegExp("(.{4})(.+)(.{4})"),"$1...$3")},totalBuy(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e+this.getAmountUSD(t):e,0)},totalBuyAmount(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e+this.getAmount(t):e,0)},avgBuyPrice(){return this.totalBuyAmount>0?this.totalBuy/this.totalBuyAmount:0},totalSell(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e:e+this.getAmountUSD(t),0)},totalBuyFrequency(){return this.tableList.filter(e=>this.isBuy(e)).length||0},totalSellFrequency(){return this.tableList.filter(e=>!this.isBuy(e)).length||0},avgPrice(){return this.balance>0?(this.totalBuy-this.totalSell)/this.balance:0},tokenValue(){let e=(this.$store.state.tokenInfo.sell_tax||0)/100;return e=e>1?1:e,(this.$store.state.tokenPrice||0)*(this.balance||0)*(1-e)},profit(){return this.totalSell+this.tokenValue-this.totalBuy},profitChange(){return this.totalBuy>0?this.profit/this.totalBuy:0}},components:{"van-notice-bar":x["a"]},watch:{tableList:{handler:function(e){this.balance=0,(null===e||void 0===e?void 0:e.length)>0&&this.getTokenBalance()},deep:!0},userAddress:{handler:function(e){e&&(this.balance=0,this.getTokenBalance())},deep:!0}},created(){this.getTokenBalance()},methods:{isBuy(e){if(e.from_address&&e.from_address===this.tokenAddress)return!1;if(e.to_address&&e.to_address===this.tokenAddress)return!0;let t=e.amount0In>0?e.token0Address:e.token1Address;return t!==this.tokenAddress},getAmount(e){if(e.from_address&&e.from_address===this.tokenAddress)return e.from_amount;if(e.to_address&&e.to_address===this.tokenAddress)return e.to_amount;let t=0;return t=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,t},getPrice(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_price_usd);let t=0;return t=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(t)},getAmountUSD(e){return e.from_address&&e.from_address===this.tokenAddress?Number(e.from_amount)*Number(e.from_price_usd):e.to_address&&e.to_address===this.tokenAddress?Number(e.to_amount)*Number(e.to_price_usd):e.amountUSD},goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))},formatDecimal(e){if(Number(e)&&Number(e)<1e-4){let t=Math.ceil(Math.log10(.1/Number(e)));return`0.0{${t}}`+String(e).replace(new RegExp(`^0\\.0{${t}}`),"")}return e},isShowRow(e){return(!this.$store.state.filterContent.minCondition||Number(this.getAmountUSD(e))>Number(this.$store.state.filterContent.min))&&(this.$store.state.filterContent.buy&&this.isBuy(e)||this.$store.state.filterContent.sell&&!this.isBuy(e))},highlight(e){return this.$store.state.filterContent.maxCondition&&Number(this.getAmountUSD(e))>=Number(this.$store.state.filterContent.max)},getTokenBalance(){var e,t;this.Timer&&clearTimeout(this.Timer),this.$emit("changeLoadingHead",!0),Object(P["nc"])(null===(e=this.tokenInfo)||void 0===e?void 0:e.address,null===(t=this.tokenInfo)||void 0===t?void 0:t.chain,this.userAddress,"whale").then(e=>{this.balance=e}).finally(()=>{this.$emit("changeLoadingHead",!1),this.userAddress==this.$store.state.currentAccount&&(this.Timer=setTimeout(()=>{this.getTokenBalance()},12e4))})}}},L=(i("8af5"),i("6b0d")),I=i.n(L);const U=I()(T,[["render",M],["__scopeId","data-v-2ebd2fea"]]);t["a"]=U},bfcb5:function(e,t,i){},c000:function(e,t,i){},c1d6:function(e,t,i){},c3ff:function(e,t,i){"use strict";var s=i("7a23");const o={class:"dialog_title"},a={class:"group"},r={key:1,class:"icon unchecked"},l=["onClick"],n={href:"",class:"flex-between"},c={key:1,class:"icon unchecked"},d={style:{width:"100%"}};function u(e,t,i,u,h,m){const b=Object(s["resolveComponent"])("CircleCheckFilled"),_=Object(s["resolveComponent"])("el-icon"),p=Object(s["resolveComponent"])("el-button"),v=Object(s["resolveComponent"])("el-form-item"),g=Object(s["resolveComponent"])("el-input"),f=Object(s["resolveComponent"])("el-form"),O=Object(s["resolveComponent"])("el-dialog");return Object(s["openBlock"])(),Object(s["createBlock"])(O,{class:Object(s["normalizeClass"])(["dialog-zixuan fav",e.$store.state.mode]),modelValue:m.show,"onUpdate:modelValue":t[3]||(t[3]=e=>m.show=e),width:"400px","append-to-body":""},{header:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("span",o,Object(s["toDisplayString"])(i.title),1)]),default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(f,{ref:"formRef",rules:h.rules,model:h.form,"label-width":"auto",onSubmit:Object(s["withModifiers"])(m.select,["prevent"])},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(v,{label:""},{default:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("ul",a,[Object(s["createElementVNode"])("li",null,[Object(s["createElementVNode"])("a",{href:"",class:"flex-between",onClick:t[0]||(t[0]=Object(s["withModifiers"])(e=>h.checked=0,["stop","prevent"]))},[Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("defaultGroup")),1),0==h.checked?(Object(s["openBlock"])(),Object(s["createBlock"])(_,{key:0,class:"icon checked"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(b)]),_:1})):(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",r))])]),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(i.groups,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("li",{key:t,onClick:Object(s["withModifiers"])(t=>h.checked=e.group_id,["stop","prevent"])},[Object(s["createElementVNode"])("a",n,[Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.name),1),h.checked==e.group_id?(Object(s["openBlock"])(),Object(s["createBlock"])(_,{key:0,class:"icon checked"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(b)]),_:1})):(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",c))])],8,l))),128))]),Object(s["createVNode"])(p,{class:"icon-add-btn",onClick:t[1]||(t[1]=Object(s["withModifiers"])(t=>e.confirmChangeName("add"),["stop"]))},{default:Object(s["withCtx"])(()=>[t[4]||(t[4]=Object(s["createElementVNode"])("i",{class:"iconfont icon-plus"},null,-1)),Object(s["createTextVNode"])(" "+Object(s["toDisplayString"])(e.$t("newGroup")),1)]),_:1})]),_:1}),i.isRemark?(Object(s["openBlock"])(),Object(s["createBlock"])(v,{key:0,label:"",prop:"remark"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(g,{modelValue:h.form.remark,"onUpdate:modelValue":t[2]||(t[2]=e=>h.form.remark=e),modelModifiers:{trim:!0},placeholder:e.$t("enterRemark"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})):Object(s["createCommentVNode"])("",!0),Object(s["createVNode"])(v,null,{default:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("div",d,[Object(s["createVNode"])(p,{style:{},class:"btn",type:"primary",loading:h.loading,"native-type":"submit"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.$t("confirm1")),1)]),_:1},8,["loading"])])]),_:1})]),_:1},8,["rules","model","onSubmit"])]),_:1},8,["modelValue","class"])}var h=i("365c"),m={name:"ChangeGroup",props:{visible:Boolean,title:{type:String,default:""},type:{type:String,default:"1"},isRemark:{type:Boolean,default:!1},selected:{type:[String,Number],default:0},groups:{type:Array,default(){return[]}}},components:{},emits:["update:visible","update:selected","select"],data(){return{checked:this.initSelected,visible1:!1,loading:!1,form:{remark:""},rules:{remark:[{max:20,message:this.$t("maximum10characters"),trigger:"blur"}]},createNewGroupName:""}},computed:{show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},initSelected:{get(){return this.selected},set(e){this.$emit("update:selected",e)}}},watch:{show(e){e&&(this.checked=this.initSelected)},"$store.state.userFavoriteGroups"(e){if(e&&this.createNewGroupName){let t=null===e||void 0===e?void 0:e.find(e=>e.name==this.createNewGroupName);t&&(this.checked=t.group_id)}}},methods:{select(){this.isRemark?this.$refs.formRef.validate(e=>{e&&this.$emit("select",this.checked,this.form.remark)}):this.$emit("select",this.checked)},addFavoriteGroup(e){"1"===this.type?this.addTokenFavoriteGroup(e):"2"===this.type&&this.addNftFavoriteGroup(e)},addTokenFavoriteGroup(e){this.$f.verifyLogin()&&(this.loading=!0,Object(h["c"])(e).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success")),this.visible1=!1,this.createNewGroupName=e}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{this.loading=!1}))},addNftFavoriteGroup(e){this.$f.verifyLogin()&&(this.loading=!0,Object(h["e"])(e).then(()=>{this.$store.dispatch("getUserNftFavoriteGroups"),this.$message.success(this.$t("success")),this.visible1=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{this.loading=!1}))}}},b=(i("5d8a"),i("0c4c"),i("6b0d")),_=i.n(b);const p=_()(m,[["render",u],["__scopeId","data-v-c093768c"]]);t["a"]=p},cb46:function(e,t,i){e.exports=i.p+"static/img/big.0a7445bb.svg"},cc6a:function(e,t,i){},e17f:function(e,t,i){"use strict";var s=i("7a23");const o={class:"dialog_title"},a={class:"flex-between address"},r=["href"],l={class:"iconfont icon-copy ml_10"};function n(e,t,i,n,c,d){const u=Object(s["resolveComponent"])("UserTxs"),h=Object(s["resolveComponent"])("el-dialog"),m=Object(s["resolveDirective"])("copy");return Object(s["openBlock"])(),Object(s["createBlock"])(h,{modelValue:d.dialogPofitLoss,"onUpdate:modelValue":t[2]||(t[2]=e=>d.dialogPofitLoss=e),width:"800px",class:"dialog"},{header:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("span",o,Object(s["toDisplayString"])(e.$t("transactionsDetails")),1)]),default:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("div",a,[Object(s["createElementVNode"])("span",null,[Object(s["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(d.chain,c.userAddress,"address"),target:"_blank"},Object(s["toDisplayString"])(c.userAddress.slice(0,6)+"..."+c.userAddress.slice(-6)),9,r),Object(s["withDirectives"])(Object(s["createElementVNode"])("i",l,null,512),[[m,c.userAddress]])]),1==c.fav?(Object(s["openBlock"])(),Object(s["createElementBlock"])("i",{key:0,class:"attention iconfont icon-attention active",onClick:t[0]||(t[0]=Object(s["withModifiers"])(e=>d.deleteAttention(c.userAddress),["stop"]))})):(Object(s["openBlock"])(),Object(s["createElementBlock"])("i",{key:1,class:"attention iconfont icon-attention",onClick:t[1]||(t[1]=Object(s["withModifiers"])(e=>d.addAttention(c.userAddress),["stop"]))}))]),Object(s["createVNode"])(u,{tableList:d.myTxHistoryList,userAddress:c.userAddress,loadingMyTx:c.loadingMyTx},null,8,["tableList","userAddress","loadingMyTx"])]),_:1},8,["modelValue"])}const c={class:"histrory"},d={class:"top"},u={key:0,class:"content"},h=["onClick"],m={key:0},b={key:1},_=["innerHTML"],p={key:0,style:{color:"#558bed"}};function v(e,t,i,o,a,r){const l=Object(s["resolveComponent"])("loading"),n=Object(s["resolveComponent"])("user-txs-head"),v=Object(s["resolveComponent"])("el-empty"),g=Object(s["resolveComponent"])("el-scrollbar");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,[Object(s["createVNode"])(l,{active:r.loading,"onUpdate:active":t[0]||(t[0]=e=>r.loading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),Object(s["createVNode"])(n,{tableList:i.tableList,userAddress:i.userAddress,onChangeLoadingHead:r.changeLoadingHead},null,8,["tableList","userAddress","onChangeLoadingHead"]),Object(s["createElementVNode"])("div",d,[Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("time")),1),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("type")),1),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("price"))+"($)",1),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("amountB"))+"("+Object(s["toDisplayString"])(r.tokenInfo.symbol)+")",1),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$t("amountU"))+"($)",1),t[1]||(t[1]=Object(s["createElementVNode"])("span",null,"Tx",-1))]),Object(s["createVNode"])(g,{height:i.scrollHeight,ref:"elscrollbar"},{default:Object(s["withCtx"])(()=>{var t;return[i.tableList.length>0?(Object(s["openBlock"])(),Object(s["createElementBlock"])("ul",u,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(i.tableList,(t,i)=>{var o,a;return Object(s["openBlock"])(),Object(s["createElementBlock"])("li",{class:"flex",key:i,onClick:Object(s["withModifiers"])(e=>r.goLink(t),["stop"])},[Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$f.formatDate(t.timestamp)),1),Object(s["createElementVNode"])("div",{class:Object(s["normalizeClass"])({green:r.isBuy(t),red:!r.isBuy(t)})},[r.isBuy(t)?(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",m,Object(s["toDisplayString"])(e.$t("buy")),1)):(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",b,Object(s["toDisplayString"])(e.$t("sell")),1))],2),Object(s["createElementVNode"])("div",{class:Object(s["normalizeClass"])({green:r.isBuy(t),red:!r.isBuy(t)}),innerHTML:e.$f.formatNumber3(r.getPrice(t)||0)},null,10,_),Object(s["createElementVNode"])("div",{class:Object(s["normalizeClass"])({green:r.isBuy(t),red:!r.isBuy(t)})},Object(s["toDisplayString"])(e.$f.formatNumber2(r.getAmount(t))),3),Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.$f.formatNumber2(r.getAmountUSD(t))),1),Object(s["createElementVNode"])("span",null,[Object(s["createTextVNode"])(Object(s["toDisplayString"])(null===(o=t.transactionAddress)||void 0===o?void 0:o.slice(0,2))+"..."+Object(s["toDisplayString"])(null===(a=t.transactionAddress)||void 0===a?void 0:a.slice(-4))+" ",1),t.count&&t.count>1?(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",p,"("+Object(s["toDisplayString"])(t.count)+")",1)):Object(s["createCommentVNode"])("",!0)])],8,h)}),128))])):Object(s["createCommentVNode"])("",!0),i.tableList&&0!==(null===(t=i.tableList)||void 0===t?void 0:t.length)?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createBlock"])(v,{key:1,"image-size":100,image:"light"===e.$store.state.mode?a.imageEmptyWhite:a.imageEmptyBlack},null,8,["image"]))]}),_:1},8,["height"])])}var g=i("c9d9"),f=i("fa7d"),O=i("fab6"),k=i.n(O),j=i("b28f"),$=i.n(j),y=i("bdd2"),w={name:"UserTxs",props:{tableList:Array,userAddress:{type:String,default:""},scrollHeight:{type:String,default:"350px"},loadingMyTx:Boolean},data(){return{imageEmptyBlack:k.a,imageEmptyWhite:$.a,count:0,Timer:null,from_num:0,loadingHead:""!=this.userAddress}},computed:{tokenInfo(){return this.$store.state.tokenInfo||Object(f["e"])()},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(g["e"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},loading(){return this.loadingHead||this.loadingMyTx}},components:{UserTxsHead:y["a"]},methods:{isBuy(e){var t,i,s,o,a,r,l,n;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(s=e.from_address)||void 0===s||null===(o=s.toLowerCase)||void 0===o?void 0:o.call(s)))return!1;if(e.to_address&&(null===(a=this.tokenAddress)||void 0===a||null===(r=a.toLowerCase)||void 0===r?void 0:r.call(a))===(null===(l=(n=e.to_address).toLowerCase)||void 0===l?void 0:l.call(n)))return!0;let c=e.amount0In>0?e.token0Address:e.token1Address;return c!==this.tokenAddress},getAmount(e){var t,i,s,o,a,r,l,n;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(s=e.from_address)||void 0===s||null===(o=s.toLowerCase)||void 0===o?void 0:o.call(s)))return this.$f.formatNumber(e.from_amount);if(e.to_address&&(null===(a=this.tokenAddress)||void 0===a||null===(r=a.toLowerCase)||void 0===r?void 0:r.call(a))===(null===(l=(n=e.to_address).toLowerCase)||void 0===l?void 0:l.call(n)))return this.$f.formatNumber(e.to_amount);let c=0;return c=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,this.$f.formatNumber(c)},getPrice(e){var t,i,s,o,a,r,l,n;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(s=e.from_address)||void 0===s||null===(o=s.toLowerCase)||void 0===o?void 0:o.call(s)))return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&(null===(a=this.tokenAddress)||void 0===a||null===(r=a.toLowerCase)||void 0===r?void 0:r.call(a))===(null===(l=(n=e.to_address).toLowerCase)||void 0===l?void 0:l.call(n)))return this.$f.formatNumber(e.to_price_usd);let c=0;return c=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(c)},getAmountUSD(e){var t,i,s,o,a,r,l,n;return e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(s=e.from_address)||void 0===s||null===(o=s.toLowerCase)||void 0===o?void 0:o.call(s))?this.$f.formatNumber(Number(e.from_amount)*Number(e.from_price_usd)):e.to_address&&(null===(a=this.tokenAddress)||void 0===a||null===(r=a.toLowerCase)||void 0===r?void 0:r.call(a))===(null===(l=(n=e.to_address).toLowerCase)||void 0===l?void 0:l.call(n))?this.$f.formatNumber(Number(e.to_amount)*Number(e.to_price_usd)):this.$f.formatNumber(e.amountUSD)},goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))},formatDecimal(e){if(Number(e)&&Number(e)<1e-4){let t=Math.ceil(Math.log10(.1/Number(e)));return`0.0{${t}}`+String(e).replace(new RegExp(`^0\\.0{${t}}`),"")}return e},changeLoadingHead(e){this.loadingHead=e}}},C=(i("09aa"),i("6b0d")),N=i.n(C);const E=N()(w,[["render",v],["__scopeId","data-v-5eb12a58"]]);var D=E,S=i("365c"),B={name:"",props:{visible:{type:Boolean,default:!1}},emits:["addAttention","deleteAttention"],data(){return{myTxs:[],loadingMyTx:!1,userAddress:"",fav:0}},computed:{dialogPofitLoss:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},myTxHistoryList(){return this.myTxs},tokenInfo(){return this.$store.state.tokenInfo},chain(){var e;return null===(e=this.tokenInfo)||void 0===e?void 0:e.chain}},components:{UserTxs:D},methods:{getUserTxs(e,t){this.myTxs=[],this.userAddress=e,this.fav=t,this.loadingMyTx=!0,Object(S["Nc"])(this.$store.state.id,e).then(e=>{this.myTxs=e.map(e=>({...e,timestamp:Number(e.time)||0,network:e.chain||"bsc",transactionAddress:e.transaction,walletAddress:e.wallet_address}))}).finally(()=>{this.loadingMyTx=!1})},addAttention(e){this.$emit("addAttention",e),this.fav=!0},deleteAttention(e){this.$emit("deleteAttention",e),this.fav=!1}}};i("4d65");const V=N()(B,[["render",n],["__scopeId","data-v-55fdab71"]]);t["a"]=V},e524:function(e,t,i){e.exports=i.p+"static/img/arrow-right.484eb652.svg"},fa6f:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("71b4"),core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("14d9"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("13d5"),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("0541"),core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3__),_utils_constants_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("c9d9"),_api_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("365c"),good_storage__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("335a"),_components_unknownRisk__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("0563"),_components_dialog_dialogRemind__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("75a0"),bignumber_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("901e"),bignumber_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_9__);function switchResolution(e){var t,i;const s={"1D":"1440","1W":"10080"};let o=s[e]||e;var a,r;null!==(t=o)&&void 0!==t&&null!==(i=t.endsWith)&&void 0!==i&&i.call(t,"S")?o=null===(a=o)||void 0===a||null===(r=a.slice)||void 0===r?void 0:r.call(a,0,-1):o*=60;return o}const supportSecChains=["solana","bsc","eth","base","tron"],resolutionMap={"1D":"1440","1W":"10080","1S":"s1"};let Timer=null,Timer1=null;__webpack_exports__["a"]={name:"TradingView",components:{UnknownRisk:_components_unknownRisk__WEBPACK_IMPORTED_MODULE_7__["a"],DialogRemind:_components_dialog_dialogRemind__WEBPACK_IMPORTED_MODULE_8__["a"]},data(){return{dialogVisible_remind:!1,widget:null,symbolInfo:null,datafeed:{onReady:this.onReady,resolveSymbol:this.resolveSymbol,getBars:this.getBars,subscribeBars:this.subscribeBars,unsubscribeBars:this.unsubscribeBars,getMarks:this.getMarks},onRealtimeCallback:null,onResetCacheNeededCallback:null,resolution:localStorage.getItem("resolution")||"15",oldResolution:localStorage.getItem("resolution")||"15",chartData:[],initLoading:!1,loading:!0,loadingChange:!1,setMarks:null,showSwapKline:eval(localStorage.getItem("showSwapKline")||!0),showSwapKlineButton:null,showMarket:eval(localStorage.getItem("showMarket")||!1),bgColor:"#0A0B0D",kline_dot_show_obj:good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].get("kline_dot_show_obj")||{trade:!0,16:!1,19:!1,25:!0,30:!1,31:!0},statisticsNumList:[],initChartData:[],kline_marks:good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].get("kline_marks")||{},hlineId:"",isReady:!1,dataTime:0,lastKline:null,onHistoryCallback:null}},computed:{arr_dot(){var e;let t=[{id:"trade",name:this.$t("mine")}],i=[];var s,o;(null===(e=this.statisticsNumList)||void 0===e?void 0:e.length)>0&&(null===(s=this.statisticsNumList)||void 0===s||s.forEach(e=>{(null===e||void 0===e?void 0:e.total_address)>0&&i.push({id:e.type,name:(null===e||void 0===e?void 0:e[this.$f.filterLanguage(this.$store.getters.language)])+`(${null===e||void 0===e?void 0:e.total_address})`})}),t=null===(o=t)||void 0===o?void 0:o.concat(i));return t},klineParams(){return this.$store.state.wsKlineParams},myTxHistoryList(){return this.$store.state.myTxHistoryList},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(_utils_constants_js__WEBPACK_IMPORTED_MODULE_4__["e"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},tokenInfo(){return this.$store.state.tokenInfo},circulation(){var e,t,i,s;let o=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(null===(e=this.tokenInfo)||void 0===e?void 0:e.total).minus(null===(t=this.tokenInfo)||void 0===t?void 0:t.lock_amount_dec).minus(null===(i=this.tokenInfo)||void 0===i?void 0:i.other_amount_dec).minus(null===(s=this.tokenInfo)||void 0===s?void 0:s.burn_amount_dec);return o.lt(0)?0:o},currentPrice(){return this.$store.state.tokenPrice||this.tokenInfo.priceUSD},circulationValue(){return this.circulation*Number(this.currentPrice||0)||0},marketCap(){var e,t,i;return(null===(e=this.tokenInfo)||void 0===e?void 0:e.lock_amount_dec)+(null===(t=this.tokenInfo)||void 0===t?void 0:t.other_amount_dec)+(null===(i=this.tokenInfo)||void 0===i?void 0:i.burn_amount_dec)>0?this.$f.formatNumber2(this.circulationValue||0,2,4,1e4):this.$f.formatNumber2(this.$store.state.marketCap||this.circulationValue||this.$store.getters.initMarketCap||0,2,4,1e4)},currentAccount(){return this.$store.state.currentAccount||this.$store.getters.botWallet||""}},watch:{"$store.state.id"(e){e&&this.getTotalholders()},"$store.state.ws.isConnected"(e){e&&this.subscribeKline()},"pair.value"(e){if(e&&"-"!==e&&!this.loading){var t,i,s,o;this.loadingChange=!0;let a=null===(t=this.$store.state)||void 0===t||null===(t=t.pair)||void 0===t?void 0:t.chain,r=a&&supportSecChains.includes(a);r||"1S"!==this.resolution||(this.resolution="15",localStorage.setItem("resolution","15")),null===(i=this.onResetCacheNeededCallback)||void 0===i||i.call(this),null===(s=this.widget)||void 0===s||null===(o=s.setSymbol)||void 0===o||o.call(s,this.pair.symbol+"---"+e,this.resolution,()=>{this.loadingChange=!1}),this.saveStudy()}},"$store.state.documentVisible"(e){e&&this.resetKline()},"$store.state.ws.klineData"(e){var t,i;if(!this.$store.state.documentVisible)return void(e.value.close>0&&this.$store.state.pair.address===e.pairAddress&&this.$store.commit("setTokenInfoPrice",e.value.close));if(e.key!==(resolutionMap[this.resolution]||this.resolution)||this.loadingChange||this.$store.state.pair.address!==e.pairAddress)return;let s=e.value;s.change&&this.$store.commit("setTokenInfoPriceChange",s.change);const o={};s.volume_24h&&(o.volume_24=s.volume_24h),s.amount_24h&&(o.amount_24=s.amount_24h),s.count_24h&&(o.exchangeTime_24=s.count_24h),Object.keys(o).length>0&&this.$store.commit("setTokenInfo",{...this.$store.state.tokenInfo,...o}),s.high_24h&&this.$store.commit("setState",{name:"highestPrice24",value:s.high_24h}),s.low_24h&&this.$store.commit("setState",{name:"lowestPrice24",value:s.low_24h});let a={time:Number(1e3*s.time),open:Number(s.open),high:Number(s.high),low:Number(s.low),close:Number(s.close),volume:Number(s.volume)};var r,l,n,c;this.showMarket&&(a={time:Number(1e3*s.time),open:(null===(r=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(s.open).times(this.circulation))||void 0===r?void 0:r.toString())/1e3,high:(null===(l=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(s.high).times(this.circulation))||void 0===l?void 0:l.toString())/1e3,low:(null===(n=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(s.low).times(this.circulation))||void 0===n?void 0:n.toString())/1e3,close:(null===(c=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(s.close).times(this.circulation))||void 0===c?void 0:c.toString())/1e3,volume:Number(s.volume)});const d=this.chartData.length-1,u=this.chartData[d]||{};if(this.lastKline={...a},a=this.$f.formatKlineLast(a,u),this.onRealtimeCallback&&(!this.dataTime||Date.now()-this.dataTime>500)?(clearTimeout(Timer),this.dataTime=Date.now(),this.onRealtimeCallback(a)):(clearTimeout(Timer),Timer=setTimeout(()=>{if(this.dataTime=Date.now(),this.onRealtimeCallback){const e=this.chartData.length-1,t=this.chartData[e]||{};let i=this.$f.formatKlineLast(this.lastKline,t);this.onRealtimeCallback(i)}},500)),a.time>((null===u||void 0===u?void 0:u.time)||0))this.chartData.push(a);else if((null===u||void 0===u?void 0:u.time)===a.time)this.chartData[d]=a;else{const e=this.chartData.findLastIndex(e=>e.time===a.time);-1!==e&&this.chartData[e].volume<=a.volume&&(this.chartData[e]=a)}let h=(null===(t=this.chartData)||void 0===t||null===(t=t[this.chartData.length-1])||void 0===t?void 0:t.close)||0;h>0&&s.close>0&&this.$store.state.pair.address===e.pairAddress&&(this.$store.commit("setTokenInfoPrice",s.close),s.close>this.$store.state.highestPrice24&&this.$store.commit("setState",{name:"highestPrice24",value:s.close}),s.close<this.$store.state.lowestPrice24&&this.$store.commit("setState",{name:"lowestPrice24",value:s.close})),(null===(i=this.chartData)||void 0===i?void 0:i.length)>900&&this.chartData.splice(0,this.chartData.length-900)},currentAccount:{handler:async function(e){if(e){if(this.kline_dot_show_obj["trade"]=!0,this.kline_dot_show_obj["trade"]){let e=await this.dealOtherMarkData(this.resolution,"trade",this.$t("mine"));this.kline_marks["trade"]=e,good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_marks",this.kline_marks),this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}}else{var t,i,s,o,a;if(this.kline_dot_show_obj["trade"]=!1,good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),this.kline_marks["trade"]&&delete this.kline_marks["trade"],good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_marks",this.kline_marks),null!==(t=this.widget)&&void 0!==t&&t.activeChart)null===(i=this.widget)||void 0===i||null===(s=i.activeChart)||void 0===s||null===(o=(a=s.call(i)).clearMarks)||void 0===o||o.call(a);this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}},deep:!0},"$store.state.mode"(){"Token"!=this.$route.name&&"Brc"!=this.$route.name||(this.loading=!0,this.createWidget())},"$store.state.ws.tx":{handler:async function(e){var t,i,s;let o=null===(t=this.$store.state)||void 0===t||null===(t=t.bot)||void 0===t||null===(t=t.userInfo)||void 0===t||null===(t=t.addresses)||void 0===t||null===(i=t.find)||void 0===i||null===(i=i.call(t,t=>(null===t||void 0===t?void 0:t.chain)===(null===e||void 0===e?void 0:e.chain)))||void 0===i?void 0:i.address,a=this.$store.state.currentAccount||o,r=this.$store.state.tokenInfo.address,l=r===(null===e||void 0===e?void 0:e.from_address)||r===(null===e||void 0===e?void 0:e.to_address);if(e&&l&&(null===(s=e.wallet_address)||void 0===s?void 0:s.toLowerCase())===(null===a||void 0===a?void 0:a.toLowerCase())){let t=this.isBuy(e)?"buy":"sell",i={time:e.time};if(i[t]={volume:this.getAmountUSD(e),amount:this.getAmount(e),txns:1},this.kline_dot_show_obj["trade"]){let e=await this.dealOtherMarkData(this.resolution,"trade",this.$t("mine"),i);this.kline_marks["trade"]=e,good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_marks",this.kline_marks),this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}}},deep:!0},"$store.state.bot.allChainsBalances"(e){var t;(null===e||void 0===e?void 0:e.length)>0&&this.isReady&&this.widget&&null!==(t=this.widget)&&void 0!==t&&t.activeChart&&this.createPositionPriceLine()}},props:{pair:{type:Object}},created(){this.init()},methods:{init(){this.loading=!0,this.pair.value&&"-"!==this.pair.value&&this.$store.state.pair.value==this.pair.value?this.getKlineHistory().then(async()=>{}).finally(()=>{this.createWidget()}):this.createWidget(),this.kline_marks={},localStorage.removeItem("kline_marks"),localStorage.removeItem("kline_marks_my"),this.getTotalholders()},resetKline(){var e;null===(e=this.onResetCacheNeededCallback)||void 0===e||e.call(this),this.widget.activeChart().resetData()},pollGetKlineHistory(){this.$store.state.documentVisible?(this.loadingChange=!0,Timer1&&(clearTimeout(Timer1),Timer1=null),Timer1=setTimeout(()=>{this.pollGetKlineHistory()},2e3)):this.resetKline()},getTotalholders(){var e;let{chain:t}=this.$f.getAddressAndChainFromId(this.$route.params.id),i=null===(e=this.$store.state.ave_globalConfig)||void 0===e?void 0:e.chains_support_data_analysis_insider_sniper_V3,s=(null===i||void 0===i?void 0:i[t])||{};void 0!==s&&Object(_api_index_js__WEBPACK_IMPORTED_MODULE_5__["Bc"])({token_id:this.$store.state.id}).then(e=>{this.statisticsNumList=Array.isArray(e)?null===e||void 0===e?void 0:e.filter(e=>{var t;return null===(t=["16","19","25","30","31"])||void 0===t?void 0:t.includes(e.type)}):[],this.$store.state.statisticsNumList=Array.isArray(e)?e:[]}).catch(e=>{this.statisticsNumList=[],this.$store.state.statisticsNumList=[]}).finally(()=>{})},isBuy(e){if(e.from_address&&e.from_address===this.tokenAddress)return!1;if(e.to_address&&e.to_address===this.tokenAddress)return!0;let t=e.amount0In>0?e.token0Address:e.token1Address;return t!==this.tokenAddress},getPrice(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_price_usd);let t=0;return t=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(t)},getAmount(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_amount);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_amount);let t=0;return t=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,this.$f.formatNumber(t)},getAmountUSD(e){return e.from_address&&e.from_address===this.tokenAddress?this.$f.formatNumber(Number(e.from_amount)*Number(e.from_price_usd)):e.to_address&&e.to_address===this.tokenAddress?this.$f.formatNumber(Number(e.to_amount)*Number(e.to_price_usd)):this.$f.formatNumber(e.amountUSD)},async createWidget(){var e,t,i;const s="100%",o="100%",a="tv_chart_container",r=window.TradingView.widget;let l=null===(e=this.$store.state)||void 0===e||null===(e=e.pair)||void 0===e?void 0:e.chain,n=l&&supportSecChains.includes(l);if(localStorage["tradingview.IntervalWidget.quicks"]&&localStorage.tradingViewIntervalSet){let e=JSON.parse(localStorage["tradingview.IntervalWidget.quicks"]);!n&&e.includes("1S")?(e=e.filter(e=>"1S"!==e),localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(e)):n&&!e.includes("1S")&&(e.unshift("1S"),localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(e)),e.includes(this.resolution)||(this.resolution="15",localStorage.setItem("resolution","15"))}else{let e=n?["1S","15","5","1","60","240","1D","1W"]:["1","5","15","60","240","1D","1W"];localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(e),localStorage.tradingViewIntervalSet="true"}if(this.widget=new r({symbol:(null===(t=this.pair)||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.replace("<","＜"))||" ",width:s,height:o,interval:this.resolution,theme:"light"===this.$store.state.mode?"Light":"Dark",container:a,datafeed:this.datafeed,library_path:this.$store.state.s3BaseUrl+"charting_library/",custom_css_url:"night-3.css",locale:this.formatLang(this.$store.getters.language),disabled_features:["header_symbol_search","header_fullscreen_button","header_screenshot","header_compare","volume_force_overlay","header_undo_redo","header_settings","header_saveload","timeframes_toolbar"],enabled_features:[...n?["seconds_resolution"]:[]],charts_storage_url:location.host,charts_storage_api_version:"2.0",timezone:this.$f.getTimezone(),time_frames:[],overrides:{volumePaneSize:"small","paneProperties.topMargin":"10","paneProperties.backgroundType":"solid","paneProperties.background":"light"===this.$store.state.mode?"#fff":this.bgColor,"paneProperties.vertGridProperties.style":2,"paneProperties.legendProperties.showLegend":!1,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.linewidth":2,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"}}),localStorage["tradingview.chartproperties"]){let e=JSON.parse(localStorage["tradingview.chartproperties"]);e.paneProperties.background="light"===this.$store.state.mode?"#fff":this.bgColor,e.paneProperties.backgroundType="solid",localStorage["tradingview.chartproperties"]=JSON.stringify(e)}this.widget.onChartReady(()=>{var e,t;document.getElementById(a).childNodes[0].setAttribute("style",`visibility:visible;;width:${s};height:${o};`),this.saveStudy(),"light"===this.$store.state.mode&&this.widget.applyOverrides({"scalesProperties.textColor":"#333"}),this.loading=!1,null===(e=this.widget)||void 0===e||null===(t=e.activeChart)||void 0===t||null===(t=t.call(e))||void 0===t||t.onIntervalChanged().subscribe(null,e=>{var t;this.resolution!==e&&(this.oldResolution=this.resolution,this.resolution=e,localStorage.setItem("resolution",e),null===(t=this.onResetCacheNeededCallback)||void 0===t||t.call(this))}),this.hlineId="",this.createStudy()}),null===(i=this.widget)||void 0===i||i.headerReady().then(()=>{var e,t,i,s;let o=null===(e=this.widget)||void 0===e?void 0:e.createButton();o&&(o.innerHTML=this.showMarket?'<span style="font-size: 12px;cursor: pointer;">Price / <span style="color:#286DFF">MCap</span></span>':'<span style="font-size: 12px;cursor: pointer;"><span style="color:#286DFF">Price</span> / MCap</span>',o.onclick=()=>{this.showMarket=!this.showMarket,localStorage.setItem("showMarket",this.showMarket),o.innerHTML=this.showMarket?'<span style="font-size: 12px;cursor: pointer;">Price / <span style="color:#286DFF">MCap</span></span>':'<span style="font-size: 12px;cursor: pointer;"><span style="color:#286DFF">Price</span> / MCap</span>',this.createWidget()});let a=null===(t=this.widget)||void 0===t?void 0:t.createButton(),r=null===(i=this.widget)||void 0===i?void 0:i.createButton();this.arr_dot.forEach(e=>{"trade"==e.id?(a&&(a.innerHTML=this.kline_dot_show_obj[e.id]?`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center;" >${e.name}</span>`:`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center;">${e.name}</span>`),a.onclick=async()=>{let t=e.id,i=e.name;if(1==this.kline_dot_show_obj[t])this.kline_dot_show_obj[t]=!1,this.kline_marks[t]&&delete this.kline_marks[t];else{this.kline_dot_show_obj[t]=!0;let e=await this.dealOtherMarkData(this.resolution,t,i);this.kline_marks[t]=e}good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_marks",this.kline_marks),a.innerHTML=this.kline_dot_show_obj[e.id]?`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center;" >${e.name}</span>`:`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center;">${e.name}</span>`,this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}):r&&(r.innerHTML+=this.kline_dot_show_obj[e.id]?`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center; margin-right: 10px" >${e.name}</span>`:`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center; margin-right: 10px">${e.name}</span>`)}),r.onclick=async e=>{var t;let i=null===(t=e.target.classList)||void 0===t?void 0:t.value,s=e.target.innerHTML;if(1==this.kline_dot_show_obj[i])this.kline_dot_show_obj[i]=!1,this.kline_marks[i]&&delete this.kline_marks[i];else{this.kline_dot_show_obj[i]=!0;let e=await this.dealOtherMarkData(this.resolution,i,s);this.kline_marks[i]=e}good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_marks",this.kline_marks),1==this.kline_dot_show_obj[i]?e.target.style.color="#286DFF":e.target.style.color="#d1d4dc",this.setMarks&&this.setMarksData(this.resolution,this.setMarks)};let l=null===(s=this.widget)||void 0===s?void 0:s.createButton({align:"right"});l.innerHTML='<div style="display: flex;align-items: center;cursor:pointer;padding: 7px 5px 7px 0;border-radius: 6px;" onMouseOver="this.style.background=\'none\'"  onMouseLeave="this.style.background=\'none\'"><img width="18" height="18" src="https://ave.s3.ap-east-1.amazonaws.com/im/alert.png" /></div>',l.onclick=()=>{this.dialogVisible_remind=!0,this.$refs.remind.init()}})},onReady(e){var t;let i=null===(t=this.$store.state)||void 0===t||null===(t=t.pair)||void 0===t?void 0:t.chain,s=i&&supportSecChains.includes(i),o={supported_resolutions:["1S","1","5","15","30","60","120","240","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0};s||(o.supported_resolutions=["1","5","15","30","60","120","240","1D","1W"]),setTimeout(()=>e(o))},resolveSymbol(e,t,i){try{var s,o,a,r,l,n,c;let i=null===(s=this.$store.state)||void 0===s||null===(s=s.pair)||void 0===s?void 0:s.chain,d=i&&supportSecChains.includes(i),u={name:null===e||void 0===e||null===(o=e.toLocaleUpperCase)||void 0===o?void 0:o.call(e),ticker:null===e||void 0===e||null===(a=e.toLocaleUpperCase)||void 0===a?void 0:a.call(e),description:(null===e||void 0===e||null===(r=e.toLocaleUpperCase)||void 0===r||null===(r=r.call(e))||void 0===r||null===(l=r.split)||void 0===l||null===(l=l.call(r,"---"))||void 0===l?void 0:l[0])||"",exchange:"Ave.ai",timezone:this.$f.getTimezone(),format:10,minmov:1,minmov2:0,pricescale:(null===(n=this.pair)||void 0===n?void 0:n.price)>0?10**this.$f.formatDecimals(null===(c=this.pair)||void 0===c?void 0:c.price).precision:1e7,volume_precision:10,fractional:!1,session:"24x7",has_intraday:!0,intraday_multipliers:["1","5","15","30","60","120","240"],has_seconds:d,seconds_multipliers:["1"],has_daily:!0,has_weekly_and_monthly:!0,supported_resolutions:["1S","1","5","15","30","60","120","240","1D","1W"],data_status:"streaming",visible_plots_set:"ohlcv"};d||(u.supported_resolutions=["1","5","15","30","60","120","240","1D","1W"],u.seconds_multipliers=[]),setTimeout(()=>t(u),0)}catch(d){i(d)}},async getMarks(e,t,i,s,o){this.setMarksData(o,s),this.setMarks=s},async setMarksData(e,t){var i,s;let o=[];for(let n in this.kline_marks)Object.hasOwn(this.kline_marks,n)&&(o=o.concat(this.kline_marks[n]));var a,r,l;(o=null===(i=o)||void 0===i?void 0:i.map((e,t)=>({...e,id:t})),null!==(s=this.widget)&&void 0!==s&&s.activeChart)&&(null===(a=this.widget)||void 0===a||null===(r=a.activeChart)||void 0===r||null===(r=r.call(a))||void 0===r||null===(l=r.clearMarks)||void 0===l||l.call(r));t&&t(o)},dealMarkData(e,t,i,s){let o=switchResolution(t),a=e.map(e=>({...e})),r={},l=[];a.forEach(e=>{let t=parseInt(e.time/Number(o));void 0===r[t]&&(r[t]=l.length,l[r[t]]=[]),l[r[t]].push(e)});let n=[];l.forEach(e=>{let t=e.filter(e=>this.isBuy(e)),i=e.filter(e=>!this.isBuy(e));t.length>0&&n.push(t),i.length>0&&n.push(i)});let c=n.map(e=>{let t=e.length,a=e[0],r=e.reduce((e,t)=>Number(this.getAmountUSD(e))+Number(this.getAmountUSD(t)),0),l=1===t?this.$f.formatDate(a.time,"MM-DD HH:mm"):this.$f.formatDate(e[e.length-1].time,"MM-DD HH:mm")+" ~ "+this.$f.formatDate(a.time,"MM-DD HH:mm"),n=a.time-a.time%Number(o);return{id:a.time+"trade",time:n,type:"trade",color:this.isBuy(a)?{background:i}:{background:s},label:this.isBuy(a)?"B":"S",labelFontColor:"#fff",minSize:14,hoveredBorderWidth:0,position:this.isBuy(a)?"below":"above",borderWidth:0,text:`${this.isBuy(a)?this.$t("buy"):this.$t("sell")}  $${this.$f.formatNumber2(r)}  ${l}`}});return c},getKlineProfilingTags(e,t,i){var s;if(0===this.chartData.length)return Promise.resolve([]);let o=parseInt(((null===(s=this.initChartData[0])||void 0===s?void 0:s.time)||0)/1e3),a=parseInt(Date.now()/1e3);return new Promise((s,r)=>{Object(_api_index_js__WEBPACK_IMPORTED_MODULE_5__["ub"])(e,o,a,t,i).then(e=>{let t=Array.isArray(e)?e:[];s(t)}).catch(e=>{r([])})})},getKlineTxTags(e){var t;if(0===this.chartData.length||!this.$store.state.currentAccount&&!this.$store.getters.botWallet)return Promise.resolve([]);let i=parseInt(((null===(t=this.initChartData[0])||void 0===t?void 0:t.time)||0)/1e3),s=parseInt(Date.now()/1e3);return new Promise((t,o)=>{Object(_api_index_js__WEBPACK_IMPORTED_MODULE_5__["vb"])(e,i,s).then(e=>{let i=Array.isArray(e)?e:[];t(i)}).catch(e=>{o([])})})},async dealOtherMarkData(e,t,i,s){let o=switchResolution(e||this.resolution),a=[];"trade"==t?(s?(a=good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].get("kline_marks_my"),a.push(s)):a=await this.getKlineTxTags(o),good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_marks_my",a)):(a=await this.getKlineProfilingTags(o,t,this.pair.value),a=a.map(e=>{var t,i,s;let o=null===(t=this.initChartData)||void 0===t?void 0:t.find(t=>t.time==1e3*e.time);var a,r;0==(null===(i=e.sell)||void 0===i?void 0:i.volume)&&o&&(e.sell.volume=((null===o||void 0===o?void 0:o.close)+(null===o||void 0===o?void 0:o.open))/2*(null===(a=e.sell)||void 0===a?void 0:a.amount));0==(null===(s=e.buy)||void 0===s?void 0:s.volume)&&o&&(e.buy.volume=((null===o||void 0===o?void 0:o.close)+(null===o||void 0===o?void 0:o.open))/2*(null===(r=e.buy)||void 0===r?void 0:r.amount));return e}),"30"==t&&(a=a.map(e=>{var t,i,s,o,a,r,l,n,c,d,u,h,m,b;if(e.sell&&e.buy)(null===(t=e.buy)||void 0===t?void 0:t.volume)>(null===(i=e.sell)||void 0===i?void 0:i.volume)?(e.buy={...e.buy,netflow:(null===(s=e.buy)||void 0===s?void 0:s.volume)-(null===(o=e.sell)||void 0===o?void 0:o.volume),inflow:null===(a=e.buy)||void 0===a?void 0:a.volume,txns_in:null===(r=e.buy)||void 0===r?void 0:r.txns,outflow:null===(l=e.sell)||void 0===l?void 0:l.volume,txns_out:null===(n=e.sell)||void 0===n?void 0:n.txns},delete e.sell):(e.sell={...e.sell,netflow:(null===(c=e.sell)||void 0===c?void 0:c.volume)-(null===(d=e.buy)||void 0===d?void 0:d.volume),inflow:null===(u=e.buy)||void 0===u?void 0:u.volume,txns_in:null===(h=e.buy)||void 0===h?void 0:h.txns,outflow:null===(m=e.sell)||void 0===m?void 0:m.volume,txns_out:null===(b=e.sell)||void 0===b?void 0:b.txns},delete e.buy);else if(e.buy){var _,p,v;e.buy={...e.buy,netflow:null===(_=e.buy)||void 0===_?void 0:_.volume,inflow:null===(p=e.buy)||void 0===p?void 0:p.volume,txns_in:null===(v=e.buy)||void 0===v?void 0:v.txns,outflow:0,txns_out:0}}else{var g,f,O;e.sell={...e.sell,netflow:null===(g=e.sell)||void 0===g?void 0:g.volume,inflow:0,txns_in:0,outflow:null===(f=e.sell)||void 0===f?void 0:f.volume,txns_out:null===(O=e.sell)||void 0===O?void 0:O.txns}}return e})));let r=a.map(e=>({...e})),l={},n=[];r.forEach(e=>{let t=parseInt(e.time/Number(o));void 0===l[t]&&(l[t]=n.length,n[l[t]]=[]),n[l[t]].push(e)});let c=[];null===n||void 0===n||n.forEach(e=>{let t=e.map(e=>({time:e.time,...e["buy"],add:e["add"],type:"buy"}));t=t.filter(e=>void 0!==e.volume);let i=e.map(e=>({time:e.time,...e["sell"],remove:e["remove"],type:"sell"}));i=i.filter(e=>void 0!==e.volume),t.length>0&&c.push(t),i.length>0&&c.push(i)});let d=c.map((e,s)=>{var a;let r=e.length,l=e[0],n=e.reduce((e,t)=>e+Number(t.amount),0),c=e.reduce((e,t)=>e+Number(t.volume),0),d=e.reduce((e,t)=>Number(e)+Number(t.txns),0),u=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["add"])||void 0===i?void 0:i.amount)},0),h=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["add"])||void 0===i?void 0:i.volume)},0),m=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["add"])||void 0===i?void 0:i.txns)},0),b=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["remove"])||void 0===i?void 0:i.amount)},0),_=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["remove"])||void 0===i?void 0:i.volume)},0),p=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["remove"])||void 0===i?void 0:i.txns)},0),v=1===r?this.$f.formatDate(l.time,"YYYY-MM-DD HH:mm"):this.$f.formatDate(e[e.length-1].time,"YYYY-MM-DD HH:mm")+" ~ "+this.$f.formatDate(l.time,"YYYY-MM-DD HH:mm"),g=l.time-l.time%Number(o),f="buy"==l.type?this.$t("bought"):this.$t("sold"),O=25==t&&m>0?`\n${25==t&&m>0?this.$t("dev_add_liq"):""}\n${25==t&&m>0?this.$t("amountU")+": "+this.$f.formatNumber2(h||0):""}\n${25==t&&m>0?this.$t("amountB")+": "+this.$f.formatNumber2(u||0):""}\n${25==t&&m>0?this.$t("Txs")+": "+this.$f.formatNumber2(m||0):""}`:"",k=25==t&&p>0?`\n${25==t&&p>0?this.$t("dev_remove_liq"):""}\n${25==t&&p>0?this.$t("amountU")+": "+this.$f.formatNumber2(_||0):""}\n${25==t&&p>0?this.$t("amountB")+": "+this.$f.formatNumber2(b||0):""}\n${25==t&&p>0?this.$t("Txs")+": "+this.$f.formatNumber2(p||0):""}`:"";i=null===(a=i)||void 0===a||null===(a=a.split("("))||void 0===a?void 0:a[0];let j=`${i} ${f}\n${this.$t("amountB")}: ${this.$f.formatNumber2(n)}\n${this.$t("amountU")}: $${this.$f.formatNumber2(c)}\n${this.$t("price")}: $${this.$f.formatNumber2(c/(n||1))}\n${this.$t("Txs")}: ${this.$f.formatNumber2(d)}\n`+O+k+v;if("30"==t){let t=e.reduce((e,t)=>Number(e)+Number(t.netflow),0),s=e.reduce((e,t)=>Number(e)+Number(t.inflow),0),o=e.reduce((e,t)=>Number(e)+Number(t.txns_in),0),a=e.reduce((e,t)=>Number(e)+Number(t.outflow),0),r=e.reduce((e,t)=>Number(e)+Number(t.txns_out),0);j=`${i}  ${"buy"==l.type?this.$t("netInflow"):this.$t("netOutflow")}\n${this.$t("inflow")}:  $${this.$f.formatNumber2(s)+"("+this.$f.formatNumber2(o)+")"}\n${this.$t("outflow")}:  $${this.$f.formatNumber2(a)+"("+this.$f.formatNumber2(r)+")"}\n${"buy"==l.type?this.$t("netInflow"):this.$t("netOutflow")}: $${this.$f.formatNumber2(t)}\n`+v}let $=localStorage.getItem("ave_globalConfig"),y="https://www.iconaves.com/";try{var w;if($)y=null===(w=JSON.parse($))||void 0===w?void 0:w.token_logo_url}catch(C){}return{id:s,time:g,type:l.type,color:{background:"transparent",padding:"10",border:"transparent"},imageUrl:"buy"==l.type?`${y}signals/marks/mark-buy-${t}.png`:`${y}signals/marks/mark-sell-${t}.png`,labelFontColor:"#fff",minSize:14,hoveredBorderWidth:0,borderWidth:0,text:j}});return d},async getBars(e,t,i,s,o){const{from:a,to:r,firstDataRequest:l}=i;this.onHistoryCallback=s;try{if(!this.initLoading)return this.initLoading=!0,s([],{noData:!0}),void this.chartData.forEach(e=>{this.onRealtimeCallback(e)});this.resolution!==t&&(this.resolution=t,localStorage.setItem("resolution",t)),l&&(this.loadingChange=!0,this.getKlineHistory(t,()=>{s([],{noData:!0}),this.chartData.forEach(e=>{this.onRealtimeCallback(e)}),this.loadingChange=!1}))}catch(n){o(n)}},subscribeBars(e,t,i,s,o){this.setData(),t===this.resolution&&(this.onRealtimeCallback=i,this.onResetCacheNeededCallback=o)},unsubscribeBars(e){},getKlineHistory(e=this.resolution,t=null){var i;let s=null===(i=this.$store.state)||void 0===i||null===(i=i.pair)||void 0===i?void 0:i.chain,o=s&&supportSecChains.includes(s);o||"1S"!==e||(e="15");let a=switchResolution(e);return new Promise(i=>{if(this.$route.params.id&&this.$store.state.pair.value==this.pair.value){let s=["kline",this.$store.state.pair.address,e,this.$store.state.pair.chain],o=this.$store.state.wsKlineParams,r=null===s||void 0===s?void 0:s.every((e,t)=>e===o[t]);r||this.unsubscribeKline(),Object(_api_index_js__WEBPACK_IMPORTED_MODULE_5__["sb"])(a,this.pair.value).then(async e=>{var s;let o=Array.isArray(e)?e:[];this.showMarket?this.initChartData=null===o||void 0===o?void 0:o.map(e=>{var t,i,s,o;return{...e,open:(null===(t=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(e.open).times(this.circulation))||void 0===t?void 0:t.toString())/1e3,high:(null===(i=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(e.high).times(this.circulation))||void 0===i?void 0:i.toString())/1e3,low:(null===(s=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(e.low).times(this.circulation))||void 0===s?void 0:s.toString())/1e3,close:(null===(o=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(e.close).times(this.circulation))||void 0===o?void 0:o.toString())/1e3}}):this.initChartData=null===o||void 0===o?void 0:o.map(e=>({...e})),this.chartData=null===(s=this.initChartData)||void 0===s?void 0:s.map(e=>({...e}));for(let t=0;t<this.arr_dot.length;t++){let e=this.arr_dot[t];if(this.kline_dot_show_obj[e.id]){let t=await this.dealOtherMarkData(this.resolution,e.id,e.name);this.kline_marks[e.id]=t}}good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("kline_marks",this.kline_marks),t&&t(),i(e),r||this.subscribeKline()}).catch(e=>{i([])}).finally(()=>{})}else i([])})},setData(e=this.chartData){Array.isArray(e)},subscribeKline(){if(this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&this.resolution&&this.$store.state.pair.address){var e,t;const o={"1D":"1440","1W":"10080"};let a=o[this.resolution]||this.resolution;var i,s;if(null!==(e=a)&&void 0!==e&&null!==(t=e.endsWith)&&void 0!==t&&t.call(e,"S"))a="s"+(null===(i=a)||void 0===i||null===(s=i.slice)||void 0===s?void 0:s.call(i,0,-1));else a="k"+a;let r={jsonrpc:"2.0",method:"subscribe",params:["kline",this.$store.state.pair.address,a,this.$store.state.pair.chain],id:1};this.$store.commit("setState",{name:"wsKlineParams",value:r.params}),this.$store.commit("wsSend",r)}},unsubscribeKline(){if(this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&this.klineParams&&Array.isArray(this.klineParams)&&4===this.klineParams.length&&this.klineParams[1]){let e={jsonrpc:"2.0",method:"unsubscribe",params:this.klineParams,id:1};this.$store.commit("wsSend",e)}},formatLang(e){let t={en:"en","zh-cn":"zh","zh-tw":"zh_TW"};return t[e]||"en"},saveStudy(){var e;if(null!==(e=this.widget)&&void 0!==e&&e.activeChart){var t,i;let e=null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i?void 0:i.call(t).getAllStudies();good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].set("tradingViewStudies",e.filter(e=>"Volume"!==e.name))}},createStudy(){var e;if(null!==(e=this.widget)&&void 0!==e&&e.activeChart){let e=good_storage__WEBPACK_IMPORTED_MODULE_6__["a"].get("tradingViewStudies");if(e.forEach(e=>{var t,i;null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||i.call(t).createStudy(e.name,!1,!1)}),localStorage["tradingview.chart.favoriteLibraryIndicators"]){let e=JSON.parse(localStorage["tradingview.chart.favoriteLibraryIndicators"]);e.forEach(e=>{var t,i;null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||i.call(t).createStudy(e,!1,!1)})}this.createPositionPriceLine()}},createPositionPriceLine(){var e,t,i,s,o,a,r;if(this.isReady=!0,!this.widget||null===(e=this.widget)||void 0===e||!e.activeChart)return;let l=this.$store.state.bot.allChainsBalances||[];const n=null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i?void 0:i.call(t);let c=null===l||void 0===l||null===(s=l.find)||void 0===s?void 0:s.call(l,e=>{var t,i,s,o;return(null===e||void 0===e||null===(t=e.token)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(s=this.$store.state.tokenInfo)||void 0===s||null===(s=s.address)||void 0===s||null===(o=s.toLowerCase)||void 0===o?void 0:o.call(s))}),d=this.hlineId;if(!n||!c&&!d)return;let u=Number(null===c||void 0===c?void 0:c.avgPrice)||0;var h;this.showMarket&&(u=(null===(h=new bignumber_js__WEBPACK_IMPORTED_MODULE_9___default.a(u).times(this.circulation))||void 0===h?void 0:h.toString())/1e3);if(d){var m;let e=null===n||void 0===n||null===(m=n.getShapeById)||void 0===m?void 0:m.call(n,d);var b;if(!c&&e)return null===n||void 0===n||null===(b=n.removeEntity)||void 0===b||b.call(n,d),void(this.hlineId="");if(e)return void e.setPoints([{price:u}])}d=null===n||void 0===n||null===(o=n.createShape)||void 0===o?void 0:o.call(n,{price:u},{shape:"horizontal_line",lock:!0,disableSelection:!0,disableSave:!0,text:this.$t("averagePositionPrice"),overrides:{linecolor:"#999999",linewidth:1,linestyle:2}}),this.hlineId=d,null===n||void 0===n||null===(a=n.getShapeById)||void 0===a||null===(a=a.call(n,d))||void 0===a||null===(r=a.setProperties)||void 0===r||r.call(a,{textcolor:"#999999",showLabel:!0,horzLabelsAlign:"right",vertLabelsAlign:"middle",bold:!0,fontSize:14})}}}}}]);